const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Gw28AbXf.js","assets/index-DmQQhyBz.js","assets/index--M_NZFtF.css"])))=>i.map(i=>d[i]);
import{t as ye,z as we,B as ge,l as B,g as M,r as l,n as e,i as S,T as H,R as U,h as K,j as Ce,L as Q,_ as je,C as X,D as Pe,E as ke,F as Se,f as Oe,u as Ne,m as _e,G as $e,o as De,k as D,H as Ie,A as Be,I as Me,$ as Ae,b as Re,J as Ee,v as ze,K as Le,M as Te}from"./index-DmQQhyBz.js";import{D as Ve,E as Y,G as He,b as Fe,H as Ue,q as Ke,w as qe,x as Ge,y as Je,z as We,A as F,v as I}from"./chunk-O24IAYCG-5qN92RUs.js";import{C as Qe,$ as Xe}from"./chunk-3JRSRN3Z-vdkdAYQT.js";import{c as Ye}from"./chunk-IHOGUXIG-BmviU1Zv.js";var Z=ye({slots:{wrapper:["flex","w-screen","h-[100dvh]","fixed","inset-0","z-50","overflow-x-auto","justify-center","h-(--visual-viewport-height)"],base:["flex","flex-col","relative","bg-white","z-50","w-full","box-border","bg-content1","outline-solid outline-transparent","mx-1","my-1","sm:mx-6","sm:my-16"],backdrop:"z-50",header:"flex py-4 px-6 flex-initial text-large font-semibold",body:"flex flex-1 flex-col gap-3 px-6 py-2",footer:"flex flex-row gap-2 px-6 py-4 justify-end",closeButton:["absolute","appearance-none","outline-solid outline-transparent","select-none","top-1","end-1","p-2","text-foreground-500","rounded-full","hover:bg-default-100","active:bg-default-200","tap-highlight-transparent",...we]},variants:{size:{xs:{base:"max-w-xs"},sm:{base:"max-w-sm"},md:{base:"max-w-md"},lg:{base:"max-w-lg"},xl:{base:"max-w-xl"},"2xl":{base:"max-w-2xl"},"3xl":{base:"max-w-3xl"},"4xl":{base:"max-w-4xl"},"5xl":{base:"max-w-5xl"},full:{base:"my-0 mx-0 sm:mx-0 sm:my-0 max-w-full h-[100dvh] min-h-[100dvh] !rounded-none"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"}},placement:{auto:{wrapper:"items-end sm:items-center"},center:{wrapper:"items-center sm:items-center"},top:{wrapper:"items-start sm:items-start"},"top-center":{wrapper:"items-start sm:items-center"},bottom:{wrapper:"items-end sm:items-end"},"bottom-center":{wrapper:"items-end sm:items-center"}},shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},backdrop:{transparent:{backdrop:"hidden"},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-md backdrop-saturate-150 bg-overlay/30"}},scrollBehavior:{normal:{base:"overflow-y-hidden"},inside:{base:"max-h-[calc(100%_-_8rem)]",body:"overflow-y-auto"},outside:{wrapper:"items-start sm:items-start overflow-y-auto",base:"my-16"}},disableAnimation:{false:{wrapper:["[--scale-enter:100%]","[--scale-exit:100%]","[--slide-enter:0px]","[--slide-exit:80px]","sm:[--scale-enter:100%]","sm:[--scale-exit:103%]","sm:[--slide-enter:0px]","sm:[--slide-exit:0px]"]}}},defaultVariants:{size:"md",radius:"lg",shadow:"sm",placement:"auto",backdrop:"opaque",scrollBehavior:"normal"},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"w-screen h-screen fixed inset-0"}}]}),[Ze,A]=ge({name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Modal />`"}),te=B((s,n)=>{const{as:t,children:r,className:a,...d}=s,{slots:m,classNames:u,bodyId:o,setBodyMounted:i}=A(),c=M(n),f=t||"div";return l.useEffect(()=>(i(!0),()=>i(!1)),[i]),e.jsx(f,{ref:c,className:m.body({class:S(u==null?void 0:u.body,a)}),id:o,...d,children:r})});te.displayName="HeroUI.ModalBody";var es=te,ss={enter:{scale:"var(--scale-enter)",y:"var(--slide-enter)",opacity:1,willChange:"auto",transition:{scale:{duration:.4,ease:H.ease},opacity:{duration:.4,ease:H.ease},y:{type:"spring",bounce:0,duration:.6}}},exit:{scale:"var(--scale-exit)",y:"var(--slide-exit)",opacity:0,willChange:"transform",transition:{duration:.3,ease:H.ease}}},b=typeof document<"u"&&window.visualViewport,as=U.createContext(!1);function ts(){return!1}function os(){return!0}function ns(s){return()=>{}}function rs(){return typeof U.useSyncExternalStore=="function"?U.useSyncExternalStore(ns,ts,os):l.useContext(as)}function ls(){let s=rs(),[n,t]=l.useState(()=>s?{width:0,height:0}:ee());return l.useEffect(()=>{let r=()=>{t(a=>{let d=ee();return d.width===a.width&&d.height===a.height?a:d})};return b?b.addEventListener("resize",r):window.addEventListener("resize",r),()=>{b?b.removeEventListener("resize",r):window.removeEventListener("resize",r)}},[]),n}function ee(){return{width:b&&(b==null?void 0:b.width)||window.innerWidth,height:b&&(b==null?void 0:b.height)||window.innerHeight}}var se=()=>je(()=>import("./index-Gw28AbXf.js"),__vite__mapDeps([0,1,2])).then(s=>s.default),oe=s=>{const{as:n,children:t,role:r="dialog",...a}=s,{Component:d,domRef:m,slots:u,classNames:o,motionProps:i,backdrop:c,closeButton:f,hideCloseButton:h,disableAnimation:p,getDialogProps:w,getBackdropProps:v,getCloseButtonProps:y,onClose:x}=A(),O=n||d||"div",R=ls(),{dialogProps:E}=Ve({role:r},m),N=l.isValidElement(f)?l.cloneElement(f,y()):e.jsx("button",{...y(),children:e.jsx(Qe,{})}),z=l.useCallback(j=>{j.key==="Tab"&&j.nativeEvent.isComposing&&(j.stopPropagation(),j.preventDefault())},[]),_=w(K(E,a)),C=e.jsxs(O,{..._,onKeyDown:Ce(_.onKeyDown,z),children:[e.jsx(Y,{onDismiss:x}),!h&&N,typeof t=="function"?t(x):t,e.jsx(Y,{onDismiss:x})]}),L=l.useMemo(()=>c==="transparent"?null:p?e.jsx("div",{...v()}):e.jsx(Q,{features:se,children:e.jsx(X.div,{animate:"enter",exit:"exit",initial:"exit",variants:Pe.fade,...v()})}),[c,p,v]),$={"--visual-viewport-height":R.height+"px"},T=p?e.jsx("div",{className:u.wrapper({class:o==null?void 0:o.wrapper}),"data-slot":"wrapper",style:$,children:C}):e.jsx(Q,{features:se,children:e.jsx(X.div,{animate:"enter",className:u.wrapper({class:o==null?void 0:o.wrapper}),"data-slot":"wrapper",exit:"exit",initial:"exit",variants:ss,...i,style:$,children:C})});return e.jsxs("div",{tabIndex:-1,children:[L,T]})};oe.displayName="HeroUI.ModalContent";var is=oe,ne=B((s,n)=>{const{as:t,children:r,className:a,...d}=s,{slots:m,classNames:u}=A(),o=M(n),i=t||"footer";return e.jsx(i,{ref:o,className:m.footer({class:S(u==null?void 0:u.footer,a)}),...d,children:r})});ne.displayName="HeroUI.ModalFooter";var ds=ne,re=B((s,n)=>{const{as:t,children:r,className:a,...d}=s,{slots:m,classNames:u,headerId:o,setHeaderMounted:i}=A(),c=M(n),f=t||"header";return l.useEffect(()=>(i(!0),()=>i(!1)),[i]),e.jsx(f,{ref:c,className:m.header({class:S(u==null?void 0:u.header,a)}),id:o,...d,children:r})});re.displayName="HeroUI.ModalHeader";var cs=re;function us(s={shouldBlockScroll:!0},n,t){let{overlayProps:r,underlayProps:a}=He({...s,isOpen:n.isOpen,onClose:n.close},t);return ke({isDisabled:!n.isOpen||!s.shouldBlockScroll}),Se(),l.useEffect(()=>{if(n.isOpen&&t.current)return Xe([t.current])},[n.isOpen,t]),{modalProps:Oe(r),underlayProps:a}}function ps(s){var n,t,r;const a=Ne(),[d,m]=_e(s,Z.variantKeys),{ref:u,as:o,className:i,classNames:c,isOpen:f,defaultOpen:h,onOpenChange:p,motionProps:w,closeButton:v,isDismissable:y=!0,hideCloseButton:x=!1,shouldBlockScroll:O=!0,portalContainer:R,isKeyboardDismissDisabled:E=!1,onClose:N,...z}=d,_=o||"section",C=M(u),L=l.useRef(null),[$,T]=l.useState(!1),[j,ie]=l.useState(!1),V=(t=(n=s.disableAnimation)!=null?n:a==null?void 0:a.disableAnimation)!=null?t:!1,de=l.useId(),q=l.useId(),G=l.useId(),P=Fe({isOpen:f,defaultOpen:h,onOpenChange:g=>{p==null||p(g),g||N==null||N()}}),{modalProps:ce,underlayProps:J}=us({isDismissable:y,shouldBlockScroll:O,isKeyboardDismissDisabled:E},P,C),{buttonProps:ue}=Ue({onPress:P.close},L),{isFocusVisible:pe,focusProps:me}=$e(),fe=S(c==null?void 0:c.base,i),k=l.useMemo(()=>Z({...m,disableAnimation:V}),[De(m),V]),xe=(g={},ve=null)=>{var W;return{ref:Ie(ve,C),...K(ce,z,g),className:k.base({class:S(fe,g.className)}),id:de,"data-open":D(P.isOpen),"data-dismissable":D(y),"aria-modal":D(!0),"data-placement":(W=s==null?void 0:s.placement)!=null?W:"right","aria-labelledby":$?q:void 0,"aria-describedby":j?G:void 0}},be=l.useCallback((g={})=>({className:k.backdrop({class:c==null?void 0:c.backdrop}),...J,...g}),[k,c,J]),he=()=>({role:"button",tabIndex:0,"aria-label":"Close","data-focus-visible":D(pe),className:k.closeButton({class:c==null?void 0:c.closeButton}),...K(ue,me)});return{Component:_,slots:k,domRef:C,headerId:q,bodyId:G,motionProps:w,classNames:c,isDismissable:y,closeButton:v,hideCloseButton:x,portalContainer:R,shouldBlockScroll:O,backdrop:(r=s.backdrop)!=null?r:"opaque",isOpen:P.isOpen,onClose:P.close,disableAnimation:V,setBodyMounted:ie,setHeaderMounted:T,getDialogProps:xe,getBackdropProps:be,getCloseButtonProps:he}}var le=B((s,n)=>{const{children:t,...r}=s,a=ps({...r,ref:n}),d=e.jsx(Me,{portalContainer:a.portalContainer,children:t});return e.jsx(Ze,{value:a,children:a.disableAnimation&&a.isOpen?d:e.jsx(Be,{children:a.isOpen?d:null})})});le.displayName="HeroUI.Modal";var ms=le;function ae(s,n=[]){const t=l.useRef(s);return Ke(()=>{t.current=s}),l.useCallback((...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},n)}function fs(s={}){const{id:n,defaultOpen:t,isOpen:r,onClose:a,onOpen:d,onChange:m=()=>{}}=s,u=ae(d),o=ae(a),[i,c]=Ae(r,t||!1,m),f=l.useId(),h=n||f,p=r!==void 0,w=l.useCallback(()=>{p||c(!1),o==null||o()},[p,o]),v=l.useCallback(()=>{p||c(!0),u==null||u()},[p,u]),y=l.useCallback(()=>{(i?w:v)()},[i,v,w]);return{isOpen:!!i,onOpen:v,onClose:w,onOpenChange:y,isControlled:p,getButtonProps:(x={})=>({...x,"aria-expanded":i,"aria-controls":h,onClick:Re(x.onClick,y)}),getDisclosureProps:(x={})=>({...x,hidden:!i,id:h})}}function ys(){const{isOpen:s,onOpen:n,onOpenChange:t}=fs(),{preference:r,resolvedTheme:a,setPreference:d}=Ee(),m=async()=>{try{const[o,i]=await Promise.all([ze(),Le()]),c={beans:o,brews:i,exportDate:new Date().toISOString(),version:1},f=new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),h=URL.createObjectURL(f),p=document.createElement("a");p.href=h,p.download=`leblanc-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(h)}catch(o){console.error("Export failed:",o),alert("Failed to export data")}},u=async()=>{try{await Te(),window.location.reload()}catch(o){console.error("Delete failed:",o),alert("Failed to delete data")}};return e.jsxs("div",{className:"max-w-[600px] mx-auto",children:[e.jsxs(qe,{children:[e.jsx(Ge,{children:e.jsx("h2",{className:"text-xl font-bold",children:"Settings"})}),e.jsxs(Je,{className:"space-y-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Appearance"}),e.jsx("p",{className:"text-small text-default-500 mb-4",children:"Leblanc matches your system theme by default. Override it anytime."}),e.jsxs("div",{className:"flex flex-col gap-3 max-w-[260px]",children:[e.jsxs(We,{label:"Theme",selectedKeys:[r],onChange:o=>d(o.target.value),children:[e.jsx(F,{description:"Follow your OS preference",children:"System default"},"system"),e.jsx(F,{description:"Always use a bright UI",children:"Light"},"light"),e.jsx(F,{description:"Always use a dimmed UI",children:"Dark"},"dark")]}),e.jsxs("div",{className:"flex items-center gap-2 text-small text-default-500",children:["Active theme:",e.jsx(Ye,{color:a==="dark"?"primary":"default",size:"sm",variant:"flat",children:a==="dark"?"Dark":"Light"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Data Management"}),e.jsxs("div",{className:"flex flex-col gap-4 max-w-[300px]",children:[e.jsx(I,{color:"primary",onPress:m,children:"Export Data (JSON)"}),e.jsx(I,{color:"danger",onPress:n,children:"Delete All Data"})]})]})]})]}),e.jsx(ms,{isOpen:s,onOpenChange:t,children:e.jsx(is,{children:o=>e.jsxs(e.Fragment,{children:[e.jsx(cs,{className:"flex flex-col gap-1",children:"Delete All Data"}),e.jsx(es,{children:e.jsx("p",{children:"Are you sure you want to delete ALL data? This action cannot be undone. All your beans and brews will be lost forever."})}),e.jsxs(ds,{children:[e.jsx(I,{color:"default",variant:"light",onPress:o,children:"Cancel"}),e.jsx(I,{color:"danger",onPress:()=>{u(),o()},children:"Delete Everything"})]})]})})})]})}export{ys as Settings};
